<div *ngFor="let item of items; trackBy: trackById"
     class="rounded-lg border border-gray-200 bg-white px-4 py-3 mb-4">

  <h3 class="text-xl font-medium mb-2">
    <a [href]="'discussion/' + item.id"
       [routerLink]="['discussion', item.id]"
       class="hover:text-green-700 duration-300 transition-colors">
      {{item.title}}
    </a>
  </h3>


  <p class="mb-2 line-clamp-5">
    {{item.content}}
  </p>

  <div class=" border-gray-200 py-2 text-xs flex gap-6 items-center text-gray-500">

    <a [href]="'discussion/' + item.id"
       [routerLink]="['discussion', item.id]"
       class="inline-flex items-center">
      <ui-icon icon="arrow-up-down"
               sizeClass="h-4 w-4 mr-1">
      </ui-icon>
      <span>
        {{item.score | numberToText}} score
      </span>
    </a>


    <a [href]="'discussion/' + item.id"
       [routerLink]="['discussion', item.id]"
       class="inline-flex items-center">
      <ui-icon icon="discuss"
               sizeClass="h-4 w-4 mr-1">
      </ui-icon>
      <span>{{item.commentCount | numberToText}} comments</span>
    </a>

    <span class="inline-flex items-center ml-auto">
      <ui-icon icon="user"
               sizeClass="h-4 w-4 mr-1.5">
      </ui-icon>
      <span>
        Posted by
        <a class="font-medium"
           href="">{{item.authorName}}</a>
        {{item.createdAt | timeago}}
      </span>
    </span>

  </div>
</div>

<ng-container *ngIf="isLoading">
  <div
    class="rounded-lg border border-gray-200 bg-white px-4 py-2 mb-4">

    <h3 class="bg-gray-200 w-2/3 mb-2 text-xl rounded-lg animate-pulse">
      &nbsp;
    </h3>
    <p class="mb-2 w-full bg-gray-200 rounded-lg animate-pulse h-16">
      &nbsp;
    </p>
    <div class="text-xs w-full bg-gray-200 rounded-lg animate-pulse">
      &nbsp;
    </div>

  </div>
</ng-container>


<div #infinityBar></div>
